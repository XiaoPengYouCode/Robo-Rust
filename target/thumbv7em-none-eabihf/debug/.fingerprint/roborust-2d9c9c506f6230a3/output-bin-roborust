{"$message_type":"diagnostic","message":"linking with `rust-lld` failed: exit status: 1","code":null,"level":"error","spans":[],"children":[{"message":"LC_ALL=\"C\" PATH=\"/home/xiaopengyou/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/bin:/home/xiaopengyou/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/bin:/home/xiaopengyou/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/bin:/home/xiaopengyou/.nix-profile/bin:/home/xiaopengyou/.local/bin:/home/xiaopengyou/.cargo/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin\" VSLANG=\"1033\" \"rust-lld\" \"-flavor\" \"gnu\" \"/tmp/rustcrNQfAj/symbols.o\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/roborust-2d9c9c506f6230a3.roborust.3ddbbce1930a51e1-cgu.0.rcgu.o\" \"--as-needed\" \"-Bstatic\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libcortex_m_rt-feefe9dd1d243df6.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libpanic_probe-7dede20ea5bcb343.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libembassy_executor-ae2d54a54e7a263a.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libembassy_time_queue_driver-7c1da6ebba83f23e.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libembassy_time_driver-8b55d9400e3f4298.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libcortex_m-a05311418f0fd851.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libembedded_hal-096cd4a01692998b.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libvoid-04e456fdcefa2ca7.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libnb-9c673c85dc70e794.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libnb-401912cda3822599.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libvolatile_register-150dd79df8f724b6.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libvcell-2068e77239f39278.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libbare_metal-39e2e98538789012.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libdefmt_rtt-debe7710ed18f055.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libcritical_section-c11e0f0b9a158325.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libdefmt-024525a4a96bc43c.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libbitflags-b1fefe807fa9b5f3.rlib\" \"/home/xiaopengyou/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/thumbv7em-none-eabihf/lib/librustc_std_workspace_core-b84a106e6eb97d6d.rlib\" \"/home/xiaopengyou/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/thumbv7em-none-eabihf/lib/libcore-af18ab7ca8da5674.rlib\" \"/home/xiaopengyou/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/thumbv7em-none-eabihf/lib/libcompiler_builtins-5315fb2b7d32c1bb.rlib\" \"-Bdynamic\" \"--eh-frame-hdr\" \"-z\" \"noexecstack\" \"-L\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/build/cortex-m-e3b9134f2adf49b8/out\" \"-L\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/build/cortex-m-rt-04fcf0f2b8e66895/out\" \"-L\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/build/defmt-56f342aafe5bed06/out\" \"-L\" \"/home/xiaopengyou/.cargo/git/checkouts/stm32-data-generated-cb34dad5f3150296/3aa0a2a/stm32-metapac/src/chips/stm32f407vg\" \"-L\" \"/home/xiaopengyou/.cargo/git/checkouts/stm32-data-generated-cb34dad5f3150296/3aa0a2a/stm32-metapac/src/chips/stm32f407vg/memory_x/\" \"-o\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/roborust-2d9c9c506f6230a3\" \"--gc-sections\" \"-O1\" \"--nmagic\" \"-Tlink.x\" \"-Tdefmt.x\"","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"rust-lld: error: undefined symbol: _embassy_time_now\n>>> referenced by lib.rs:182 (src/lib.rs:182)\n>>>               embassy_time_driver-8b55d9400e3f4298.embassy_time_driver.580824e9255ae90c-cgu.0.rcgu.o:(.text._ZN19embassy_time_driver3now17he3dd415556371846E+0x0) in archive /home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libembassy_time_driver-8b55d9400e3f4298.rlib\n\nrust-lld: error: undefined symbol: _embassy_time_allocate_alarm\n>>> referenced by lib.rs:189 (src/lib.rs:189)\n>>>               embassy_time_driver-8b55d9400e3f4298.embassy_time_driver.580824e9255ae90c-cgu.0.rcgu.o:(.text._ZN19embassy_time_driver14allocate_alarm17h876b40fadc785bcbE+0x0) in archive /home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libembassy_time_driver-8b55d9400e3f4298.rlib\n\nrust-lld: error: undefined symbol: _embassy_time_set_alarm_callback\n>>> referenced by lib.rs:194 (src/lib.rs:194)\n>>>               embassy_time_driver-8b55d9400e3f4298.embassy_time_driver.580824e9255ae90c-cgu.0.rcgu.o:(.text._ZN19embassy_time_driver18set_alarm_callback17hcfc303f35396d4efE+0x0) in archive /home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libembassy_time_driver-8b55d9400e3f4298.rlib\n\nrust-lld: error: undefined symbol: _embassy_time_set_alarm\n>>> referenced by lib.rs:199 (src/lib.rs:199)\n>>>               embassy_time_driver-8b55d9400e3f4298.embassy_time_driver.580824e9255ae90c-cgu.0.rcgu.o:(.text._ZN19embassy_time_driver9set_alarm17hdda6589d8fcad079E+0x0) in archive /home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libembassy_time_driver-8b55d9400e3f4298.rlib\n\nrust-lld: error: \nERROR(cortex-m-rt): The interrupt vectors are missing.\nPossible solutions, from most likely to less likely:\n- Link to a svd2rust generated device crate\n- Check that you actually use the device/hal/bsp crate in your code\n- Disable the 'device' feature of cortex-m-rt to build a generic application (a dependency\nmay be enabling it)\n- Supply the interrupt handlers yourself. Check the documentation for details.\n\nrust-lld: error: \nERROR(cortex-m-rt): The interrupt vectors are missing.\nPossible solutions, from most likely to less likely:\n- Link to a svd2rust generated device crate\n- Check that you actually use the device/hal/bsp crate in your code\n- Disable the 'device' feature of cortex-m-rt to build a generic application (a dependency\nmay be enabling it)\n- Supply the interrupt handlers yourself. Check the documentation for details.\n\nrust-lld: error: \nERROR(cortex-m-rt): The interrupt vectors are missing.\nPossible solutions, from most likely to less likely:\n- Link to a svd2rust generated device crate\n- Check that you actually use the device/hal/bsp crate in your code\n- Disable the 'device' feature of cortex-m-rt to build a generic application (a dependency\nmay be enabling it)\n- Supply the interrupt handlers yourself. Check the documentation for details.\n","code":null,"level":"note","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: linking with `rust-lld` failed: exit status: 1\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: LC_ALL=\"C\" PATH=\"/home/xiaopengyou/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/bin:/home/xiaopengyou/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/bin:/home/xiaopengyou/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/bin:/home/xiaopengyou/.nix-profile/bin:/home/xiaopengyou/.local/bin:/home/xiaopengyou/.cargo/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin\" VSLANG=\"1033\" \"rust-lld\" \"-flavor\" \"gnu\" \"/tmp/rustcrNQfAj/symbols.o\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/roborust-2d9c9c506f6230a3.roborust.3ddbbce1930a51e1-cgu.0.rcgu.o\" \"--as-needed\" \"-Bstatic\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libcortex_m_rt-feefe9dd1d243df6.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libpanic_probe-7dede20ea5bcb343.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libembassy_executor-ae2d54a54e7a263a.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libembassy_time_queue_driver-7c1da6ebba83f23e.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libembassy_time_driver-8b55d9400e3f4298.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libcortex_m-a05311418f0fd851.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libembedded_hal-096cd4a01692998b.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libvoid-04e456fdcefa2ca7.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libnb-9c673c85dc70e794.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libnb-401912cda3822599.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libvolatile_register-150dd79df8f724b6.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libvcell-2068e77239f39278.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libbare_metal-39e2e98538789012.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libdefmt_rtt-debe7710ed18f055.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libcritical_section-c11e0f0b9a158325.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libdefmt-024525a4a96bc43c.rlib\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libbitflags-b1fefe807fa9b5f3.rlib\" \"/home/xiaopengyou/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/thumbv7em-none-eabihf/lib/librustc_std_workspace_core-b84a106e6eb97d6d.rlib\" \"/home/xiaopengyou/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/thumbv7em-none-eabihf/lib/libcore-af18ab7ca8da5674.rlib\" \"/home/xiaopengyou/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/thumbv7em-none-eabihf/lib/libcompiler_builtins-5315fb2b7d32c1bb.rlib\" \"-Bdynamic\" \"--eh-frame-hdr\" \"-z\" \"noexecstack\" \"-L\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/build/cortex-m-e3b9134f2adf49b8/out\" \"-L\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/build/cortex-m-rt-04fcf0f2b8e66895/out\" \"-L\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/build/defmt-56f342aafe5bed06/out\" \"-L\" \"/home/xiaopengyou/.cargo/git/checkouts/stm32-data-generated-cb34dad5f3150296/3aa0a2a/stm32-metapac/src/chips/stm32f407vg\" \"-L\" \"/home/xiaopengyou/.cargo/git/checkouts/stm32-data-generated-cb34dad5f3150296/3aa0a2a/stm32-metapac/src/chips/stm32f407vg/memory_x/\" \"-o\" \"/home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/roborust-2d9c9c506f6230a3\" \"--gc-sections\" \"-O1\" \"--nmagic\" \"-Tlink.x\" \"-Tdefmt.x\"\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: rust-lld: error: undefined symbol: _embassy_time_now\u001b[0m\n\u001b[0m          >>> referenced by lib.rs:182 (src/lib.rs:182)\u001b[0m\n\u001b[0m          >>>               embassy_time_driver-8b55d9400e3f4298.embassy_time_driver.580824e9255ae90c-cgu.0.rcgu.o:(.text._ZN19embassy_time_driver3now17he3dd415556371846E+0x0) in archive /home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libembassy_time_driver-8b55d9400e3f4298.rlib\u001b[0m\n\u001b[0m          \u001b[0m\n\u001b[0m          rust-lld: error: undefined symbol: _embassy_time_allocate_alarm\u001b[0m\n\u001b[0m          >>> referenced by lib.rs:189 (src/lib.rs:189)\u001b[0m\n\u001b[0m          >>>               embassy_time_driver-8b55d9400e3f4298.embassy_time_driver.580824e9255ae90c-cgu.0.rcgu.o:(.text._ZN19embassy_time_driver14allocate_alarm17h876b40fadc785bcbE+0x0) in archive /home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libembassy_time_driver-8b55d9400e3f4298.rlib\u001b[0m\n\u001b[0m          \u001b[0m\n\u001b[0m          rust-lld: error: undefined symbol: _embassy_time_set_alarm_callback\u001b[0m\n\u001b[0m          >>> referenced by lib.rs:194 (src/lib.rs:194)\u001b[0m\n\u001b[0m          >>>               embassy_time_driver-8b55d9400e3f4298.embassy_time_driver.580824e9255ae90c-cgu.0.rcgu.o:(.text._ZN19embassy_time_driver18set_alarm_callback17hcfc303f35396d4efE+0x0) in archive /home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libembassy_time_driver-8b55d9400e3f4298.rlib\u001b[0m\n\u001b[0m          \u001b[0m\n\u001b[0m          rust-lld: error: undefined symbol: _embassy_time_set_alarm\u001b[0m\n\u001b[0m          >>> referenced by lib.rs:199 (src/lib.rs:199)\u001b[0m\n\u001b[0m          >>>               embassy_time_driver-8b55d9400e3f4298.embassy_time_driver.580824e9255ae90c-cgu.0.rcgu.o:(.text._ZN19embassy_time_driver9set_alarm17hdda6589d8fcad079E+0x0) in archive /home/xiaopengyou/projects/robomaster/embedded/Robo-Rust/target/thumbv7em-none-eabihf/debug/deps/libembassy_time_driver-8b55d9400e3f4298.rlib\u001b[0m\n\u001b[0m          \u001b[0m\n\u001b[0m          rust-lld: error: \u001b[0m\n\u001b[0m          ERROR(cortex-m-rt): The interrupt vectors are missing.\u001b[0m\n\u001b[0m          Possible solutions, from most likely to less likely:\u001b[0m\n\u001b[0m          - Link to a svd2rust generated device crate\u001b[0m\n\u001b[0m          - Check that you actually use the device/hal/bsp crate in your code\u001b[0m\n\u001b[0m          - Disable the 'device' feature of cortex-m-rt to build a generic application (a dependency\u001b[0m\n\u001b[0m          may be enabling it)\u001b[0m\n\u001b[0m          - Supply the interrupt handlers yourself. Check the documentation for details.\u001b[0m\n\u001b[0m          \u001b[0m\n\u001b[0m          rust-lld: error: \u001b[0m\n\u001b[0m          ERROR(cortex-m-rt): The interrupt vectors are missing.\u001b[0m\n\u001b[0m          Possible solutions, from most likely to less likely:\u001b[0m\n\u001b[0m          - Link to a svd2rust generated device crate\u001b[0m\n\u001b[0m          - Check that you actually use the device/hal/bsp crate in your code\u001b[0m\n\u001b[0m          - Disable the 'device' feature of cortex-m-rt to build a generic application (a dependency\u001b[0m\n\u001b[0m          may be enabling it)\u001b[0m\n\u001b[0m          - Supply the interrupt handlers yourself. Check the documentation for details.\u001b[0m\n\u001b[0m          \u001b[0m\n\u001b[0m          rust-lld: error: \u001b[0m\n\u001b[0m          ERROR(cortex-m-rt): The interrupt vectors are missing.\u001b[0m\n\u001b[0m          Possible solutions, from most likely to less likely:\u001b[0m\n\u001b[0m          - Link to a svd2rust generated device crate\u001b[0m\n\u001b[0m          - Check that you actually use the device/hal/bsp crate in your code\u001b[0m\n\u001b[0m          - Disable the 'device' feature of cortex-m-rt to build a generic application (a dependency\u001b[0m\n\u001b[0m          may be enabling it)\u001b[0m\n\u001b[0m          - Supply the interrupt handlers yourself. Check the documentation for details.\u001b[0m\n\u001b[0m          \u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"aborting due to 1 previous error","code":null,"level":"error","spans":[],"children":[],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: aborting due to 1 previous error\u001b[0m\n\n"}
